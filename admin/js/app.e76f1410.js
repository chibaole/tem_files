(function(t){function e(e){for(var i,s,o=e[0],l=e[1],u=e[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},"0576":function(t,e,n){"use strict";var i=n("33ac"),a=n.n(i);a.a},1598:function(t,e,n){},"166e":function(t,e,n){},"16f4":function(t,e,n){t.exports=n.p+"img/404.a57b6f31.png"},1875:function(t,e,n){"use strict";var i=n("ac0e"),a=n.n(i);a.a},1919:function(t,e,n){"use strict";var i=n("3d68"),a=n.n(i);a.a},2626:function(t,e,n){t.exports=n.p+"img/404_cloud.0f4bc32b.png"},"33ac":function(t,e,n){},"3d68":function(t,e,n){},4442:function(t,e,n){"use strict";var i=n("d66f"),a=n.n(i);a.a},"4b6c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),a=n("5c96"),r=n.n(a),s=(n("0fae"),n("f5df"),n("b20f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")}),o=[],l=(n("034f"),n("2877")),u={},c=Object(l["a"])(u,s,o,!1,null,null,null),p=c.exports,f=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper"},[n("side-bar",{staticClass:"sidebar-container"}),n("div",{staticClass:"main-container"},[n("nav-bar"),n("app-main")],1)],1)},h=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"navbar",attrs:{mode:"horizontal"}},[t._l(t.headerMenuConfig,(function(e){return[e.children?n("el-submenu",{key:e.name,attrs:{index:e.name||e.path}},[n("template",{slot:"title"},[e&&e.icon?n("i",{class:e.icon}):t._e(),e&&e.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]):t._e()]),t._l(e.children,(function(i){return i.hidden?t._e():[n("router-link",{key:i.name,attrs:{to:e.path+i.path}},[n("el-menu-item",{attrs:{index:e.path+i.path}},[i&&i.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(i.name))]):t._e()])],1)]}))],2):n("router-link",{key:e.name,attrs:{to:e.path}},[n("el-menu-item",{attrs:{index:e.path}},[e.icon?n("i",{class:e.icon}):t._e(),e.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]):t._e()])],1)]}))],2)},v=[],b=[],g=[{path:"/table",name:"公众号配置",icon:"el-icon-date",children:[{path:"/SetAppid",name:"公众号配置项"},{path:"/fixed",name:"更新菜单"},{path:"/setServer",name:"接入大厅/第三方服务"}]},{path:"/comment",name:"留言",icon:"el-icon-edit-outline"}],y={name:"NavBar",data:function(){return{headerMenuConfig:b}},methods:{logout:function(){}}},_=y,C=(n("c4a0"),Object(l["a"])(_,m,v,!1,null,"d2e68ce4",null)),w=C.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-bar",[n("div",{staticClass:"logo"},[n("img",{attrs:{src:"https://img.alicdn.com/tfs/TB13UQpnYGYBuNjy0FoXXciBFXa-242-134.png",width:"40"}}),n("span",{staticClass:"site-name"},[t._v("RFID ADMIN ")])]),n("el-menu",{attrs:{"show-timeout":200,mode:"vertical","background-color":"#00142a","text-color":"hsla(0, 0%, 100%, .65)","active-text-color":"#1296DB"}},[t._l(t.asideMenuConfig,(function(e){return[e.children?n("el-submenu",{key:e.name,attrs:{index:e.name||e.path}},[n("template",{slot:"title"},[e&&e.icon?n("i",{class:e.icon}):t._e(),e&&e.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]):t._e()]),t._l(e.children,(function(i){return i.hidden?t._e():[n("router-link",{key:i.name,attrs:{to:e.path+i.path}},[n("el-menu-item",{attrs:{index:e.path+i.path}},[i&&i.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(i.name))]):t._e()])],1)]}))],2):n("router-link",{key:e.name,attrs:{to:e.path}},[n("el-menu-item",{attrs:{index:e.path}},[e.icon?n("i",{class:e.icon}):t._e(),e.name?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]):t._e()])],1)]}))],2)],1)},k=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[n("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{top:t.top+"px"}},[t._t("default")],2)])},j=[],S=15,A={name:"ScrollBar",data:function(){return{top:0}},methods:{handleScroll:function(t){var e=t.wheelDelta||3*-t.deltaY,n=this.$refs.scrollContainer,i=parseInt(n.offsetHeight,10),a=this.$refs.scrollWrapper,r=parseInt(a.offsetHeight,10);e>0?this.top=Math.min(0,this.top+e):i-S<r?this.top<-(S+(r-i))?this.top=this.top:this.top=Math.max(this.top+e,i-r-S):this.top=0}}},$=A,M=(n("4442"),Object(l["a"])($,O,j,!1,null,"3175e7c8",null)),F=M.exports,L={name:"SideBar",components:{ScrollBar:F},props:{},data:function(){return{asideMenuConfig:g}}},P=L,I=(n("b2d1"),Object(l["a"])(P,x,k,!1,null,"17e21fd2",null)),E=I.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},D=[],B={name:"AppMain"},R=B,U=Object(l["a"])(R,T,D,!1,null,null,null),q=U.exports,Y={name:"Layout",components:{NavBar:w,SideBar:E,AppMain:q}},z=Y,H=(n("71f2"),Object(l["a"])(z,d,h,!1,null,"498124a3",null)),K=H.exports,N=K,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},W=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#f0f2f5","margin-top":"-20px",height:"100%"}},[i("div",{staticClass:"wscn-http404"},[i("div",{staticClass:"pic-404"},[i("img",{staticClass:"pic-404__parent",attrs:{src:n("16f4"),alt:"404"}}),i("img",{staticClass:"pic-404__child left",attrs:{src:n("2626"),alt:"404"}}),i("img",{staticClass:"pic-404__child mid",attrs:{src:n("2626"),alt:"404"}}),i("img",{staticClass:"pic-404__child right",attrs:{src:n("2626"),alt:"404"}})]),i("div",{staticClass:"exception"},[i("div",{staticClass:"exception__headline"},[t._v("抱歉，您访问的页面不存在")]),i("a",{staticClass:"exception__return-home",attrs:{href:"/"}},[t._v("返回首页")])])])])}],J=(n("e939"),{}),X=Object(l["a"])(J,V,W,!1,null,"32312945",null),G=X.exports,Q=G,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard"})},tt=[],et={},nt=Object(l["a"])(et,Z,tt,!1,null,null,null),it=nt.exports,at=it,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setAppid"},[n("h2",{staticClass:"title"},[t._v("设置appid")]),n("div",{staticClass:"setAra"},[n("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.formLabelAlign}},[t._l(t.formLabelAlign,(function(e,i,a){return n("el-form-item",{key:a,attrs:{"label-width":"120px",label:i}},[n("el-input",{model:{value:t.formLabelAlign[i],callback:function(e){t.$set(t.formLabelAlign,i,e)},expression:"formLabelAlign[key]"}})],1)})),n("el-form-item",{attrs:{"label-width":"120px",label:"设置读者类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formLabelAlign.rdrtype,callback:function(e){t.$set(t.formLabelAlign,"rdrtype",e)},expression:"formLabelAlign.rdrtype"}},t._l(t.columns,(function(t){return n("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)],2)],1),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"info",plain:""},on:{click:t.submitFn}},[t._v(t._s(t.btn_txt))])],1)])},st=[];function ot(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function lt(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){ot(r,i,a,s,o,"next",t)}function o(t){ot(r,i,a,s,o,"throw",t)}s(void 0)}))}}var ut,ct={name:"SetAppid",data:function(){return{btn_txt:"提交",labelPosition:"left",formLabelAlign:{},columns:null}},methods:{fetchWechat:function(){var t=lt((function*(){var t=yield this.$store.dispatch("fetchConfig");console.log(t);var e=JSON.stringify(t.data);if("{}"!==e){var n=t.data.wechat,i=t.data.elib,a={title:t.data.title,redirect_uri:t.data.redirect_uri,dbhost:t.data.dbhost};this.formLabelAlign=Object.assign({},n,i,a),this.formLabelAlign&&this.formLabelAlign.AppID&&(this.btn_txt="修改")}else console.log("空数据"),this.formLabelAlign={title:"站点标题",redirect_uri:"填写公众号网页URL",appID:"公众号的appid",appSecret:"公众号的app secret",token:"公众号开发设置的 token",mch_id:"微信支付的商户号",key:"微信商户号支付密钥key",account:"elib后台帐户",password:"elib后台帐户密码",client_id:"elib后台连接 id",baseurl:"elib部署的url",other_url:"其他 配合eilb的url",autordrno:"读者条码区间",rdrtype:"读者类型"}}));function e(){return t.apply(this,arguments)}return e}(),submitFn:function(){var t=lt((function*(){console.log("存储/修改 配置信息");var t=this.formLabelAlign;yield this.$store.dispatch("setConfig",t);this.getSystemInfo()}));function e(){return t.apply(this,arguments)}return e}(),getSystemInfo:function(){var t=lt((function*(){var t={key:"rdrtype"},e=yield this.$store.dispatch("systemInfo",t),n=e.data.rows;this.rdr_type=n;for(var i=[],a=0;a<n.length;a++){var r=n[a],s=r.code,o=r.group,l=r.name;i[i.length]={code:s,group:o,name:l}}this.columns=i}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){console.log("设置appid mounted（）"),this.fetchWechat()}},pt=ct,ft=(n("0576"),Object(l["a"])(pt,rt,st,!1,null,"a4b0ae8a",null)),dt=ft.exports,ht=dt,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"public-account-management clearfix"},[n("div",{staticClass:"left"},[n("div",{staticClass:"menu clearfix"},[t._l(t.menu.button,(function(e,i){return n("div",{key:i,staticClass:"menu_bottom"},[n("div",{staticClass:"menu_item",class:{active:t.isActive==i},on:{click:function(n){return t.menuFun(i,e)}}},[t._v(t._s(e.name))]),t.isSubMenuFlag==i?n("div",{staticClass:"submenu"},[t._l(e.sub_button,(function(a,r){return n("div",{key:r,staticClass:"subtitle"},[n("div",{staticClass:"menu_subItem",class:{active:t.isSubMenuActive==i+""+r},on:{click:function(n){return t.subMenuFun(e,a,i,r)}}},[t._v(t._s(a.name))])])})),e.sub_button.length<5?n("div",{staticClass:"menu_bottom menu_addicon",on:{click:function(n){return t.addSubMenu(e)}}},[n("i",{staticClass:"el-icon-plus"})]):t._e()],2):t._e()])})),t.menuKeyLength<3?n("div",{staticClass:"menu_bottom menu_addicon",on:{click:t.addMenu}},[n("i",{staticClass:"el-icon-plus"})]):t._e()],2),n("el-button",{staticClass:"save_btn",attrs:{type:"success"},on:{click:t.saveFun}},[t._v("保存并发布至菜单")])],1),t.showRightFlag?t._e():n("div",{staticClass:"right"},[n("div",{staticClass:"configure_page"},[n("div",{staticClass:"delete_btn"},[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteMenu(t.tempObj)}}},[t._v("删除当前菜单")])],1),n("div",[n("span",[t._v("菜单名称：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:t.tempObj.name,callback:function(e){t.$set(t.tempObj,"name",e)},expression:"tempObj.name"}})],1),n("div",[n("div",{staticClass:"menu_content"},[n("span",[t._v("菜单内容：")]),n("el-radio-group",{model:{value:t.tempObj.type,callback:function(e){t.$set(t.tempObj,"type",e)},expression:"tempObj.type"}},[n("el-radio",{attrs:{label:"view_limited"}},[t._v("发送素材")]),n("el-radio",{attrs:{label:"view"}},[t._v("跳转链接")]),n("el-radio",{attrs:{label:"click"}},[t._v("发送关键词")]),n("el-radio",{attrs:{label:"miniprogram"}},[t._v("小程序")])],1)],1),n("div",{staticClass:"configur_content"},["view_limited"==t.tempObj.type?n("div",{staticClass:"material"},[n("span",[t._v("素材内容：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"素材名称",disabled:!0},model:{value:t.tempObj.material,callback:function(e){t.$set(t.tempObj,"material",e)},expression:"tempObj.material"}}),n("el-popover",{attrs:{placement:"left",width:"700"},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"文件名",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[t._v("文件名: "+t._s(e.row.name))]),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.name))])],1)])]}}],null,!1,775326669)}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("选择")])]}}],null,!1,4247453942)})],1),n("el-button",{attrs:{slot:"reference",type:"success"},slot:"reference"},[t._v("选择素材")])],1),n("p",{staticClass:"blue"},[t._v("tips:需要调后台获取到内容，弹框出来，然后选择，把名字赋值上去！")])],1):t._e(),"view"==t.tempObj.type?n("div",[n("span",[t._v("跳转链接：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入链接",clearable:""},model:{value:t.tempObj.url,callback:function(e){t.$set(t.tempObj,"url",e)},expression:"tempObj.url"}})],1):t._e(),"click"==t.tempObj.type?n("div",[n("div",[n("span",[t._v("关键词：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入关键词",clearable:""},model:{value:t.tempObj.key,callback:function(e){t.$set(t.tempObj,"key",e)},expression:"tempObj.key"}})],1),n("p",{staticClass:"blue"},[t._v("tips:这里需要配合关键词推送消息一起使用")])]):t._e(),"miniprogram"==t.tempObj.type?n("div",[n("div",{staticClass:"applet"},[n("span",[t._v("小程序的appid：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入小程序的appid",clearable:""},model:{value:t.tempObj.appid,callback:function(e){t.$set(t.tempObj,"appid",e)},expression:"tempObj.appid"}})],1),n("div",[n("span",[t._v("小程序的页面路径：")]),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入小程序的页面路径，如：pages/index",clearable:""},model:{value:t.tempObj.pagepath,callback:function(e){t.$set(t.tempObj,"pagepath",e)},expression:"tempObj.pagepath"}})],1),n("p",{staticClass:"blue"},[t._v("tips:需要和公众号进行关联才可以把小程序绑定带微信菜单上哟！")])]):t._e()])])]),n("div",[t._v("menu对象值："+t._s(t.menu))])]),t.showRightFlag?n("div",{staticClass:"right"},[n("p",[t._v("请选择菜单配置")])]):t._e()])},vt=[];function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function yt(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){gt(r,i,a,s,o,"next",t)}function o(t){gt(r,i,a,s,o,"throw",t)}s(void 0)}))}}var _t=(ut={name:"PublicAccountManagement",props:{},data:function(){return{showRightFlag:!0,menu:{button:[]},isActive:-1,isSubMenuActive:-1,isSubMenuFlag:-1,tempObj:{},tempSelfObj:{},visible2:!1,tableData:[]}},created:function(){},mounted:function(){this.getMediaFun(),this.currentMenuFun()},filters:{},computed:{},methods:{currentMenuFun:function(){var t=yt((function*(){var t=yield this.$store.dispatch("getMenu");this.menu=t.data.menu,console.log(this.menu)}));function e(){return t.apply(this,arguments)}return e}(),getMediaFun:function(){var t=yt((function*(){for(var t=yield this.$store.dispatch("getMedia"),e=t.data[0].item,n=[],i=0;i<e.length;i++){var a={};a["name"]=e[i].content.news_item[0].title,a["media_id"]=e[i].media_id,n[n.length]=a}this.tableData=n}));function e(){return t.apply(this,arguments)}return e}(),handleEdit:function(t,e){this.visible2=!1,this.tempObj.material=e.name,this.tempObj.media_id=e.media_id,console.log(this.tempObj)},saveFun:function(){var t=yt((function*(){console.log(this.menu);var t=yield this.$store.dispatch("updateMenu",this.menu);"ok"===t.data.errmsg&&this.$message({message:"恭喜您，菜单更新成功了",type:"success"}),console.log(t)}));function e(){return t.apply(this,arguments)}return e}(),menuFun:function(t,e){this.showRightFlag=!1,this.tempObj=e,this.tempSelfObj.grand="1",this.tempSelfObj.index=t,this.isActive=t,this.isSubMenuFlag=t,this.isSubMenuActive=-1,console.log(this.isActive+"_"+this.isSubMenuFlag+"_"+this.isSubMenuActive)},subMenuFun:function(t,e,n,i){this.showRightFlag=!1,this.tempObj=e,this.tempSelfObj.grand="2",this.tempSelfObj.index=n,this.tempSelfObj.secondIndex=i,this.isSubMenuActive=n+""+i,this.isActive=-1},addMenu:function(){2==this.menuKeyLength&&this.$set(this.menu.button,"2",{name:"菜单3",sub_button:[]}),1==this.menuKeyLength&&this.$set(this.menu.button,"1",{name:"菜单2",sub_button:[]})},addSubMenu:function(t){var e=t.sub_button.length;4==e&&this.$set(t.sub_button,"4",{name:"子菜单5"}),3==e&&this.$set(t.sub_button,"3",{name:"子菜单4"}),2==e&&this.$set(t.sub_button,"2",{name:"子菜单3"}),1==e&&this.$set(t.sub_button,"1",{name:"子菜单2"}),0==e&&this.$set(t.sub_button,"0",{name:"子菜单1"})},deleteMenu:function(t){console.log(t);var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteData()})).catch((function(){}))},deleteData:function(){"1"==this.tempSelfObj.grand&&this.menu.button.splice(this.tempSelfObj.index,1),"2"==this.tempSelfObj.grand&&this.menu.button[this.tempSelfObj.index].sub_button.splice(this.tempSelfObj.secondIndex,1),this.$message({type:"success",message:"删除成功!"})}}},bt(ut,"computed",{menuKeyLength:function(){return this.menu.button.length}}),bt(ut,"components",{}),ut),Ct=_t,wt=(n("1919"),n("8e19"),Object(l["a"])(Ct,mt,vt,!1,null,"6a4fc4f4",null)),xt=wt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setServer"},[t._m(0),n("div",{staticClass:"topCarousel"},[t._m(1),n("div",{staticClass:"currentset"},t._l(t.imgList,(function(t){return n("img",{key:t._id,attrs:{width:"100%",src:t.imgurl,alt:""}})})),0),n("div",{staticClass:"set"},[n("el-upload",{ref:"upload",attrs:{action:t.domain,"list-type":"picture-card",limit:5,"auto-upload":!0,"file-list":t.fileList,"http-request":t.carousel,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[n("i",{staticClass:"el-icon-plus"})]),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),n("button",{on:{click:t.updateCar}},[t._v("更新轮播图")])]),t.apps?n("div",{staticClass:"content"},[n("h3",[t._v("设置服务大厅应用")]),n("div",{staticStyle:{margin:"20px"}}),n("div",{staticClass:"wrap"},t._l(t.apps,(function(e,i){return n("div",{key:i,staticClass:"app"},[n("el-form",{staticClass:"from",attrs:{"label-position":"left","label-width":"40px",model:e}},[t._l(e,(function(i,a,r){return n("el-form-item",{key:r,staticClass:"form_item",attrs:{label:"name"==a?"名称":a}},["icon"!==a?n("el-input",{model:{value:e[a],callback:function(n){t.$set(e,a,n)},expression:"app[key]"}}):n("el-upload",{staticClass:"avatar-uploader",attrs:{limit:1,action:t.domain,"http-request":t.upqiniu,"show-file-list":!1,"before-upload":t.beforeUpload}},[e.icon?n("img",{staticClass:"avatar",attrs:{src:e.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon",on:{click:function(n){return t.getIndex(e.name)}}})])],1)})),n("el-form-item",[e._id?n("el-button",{staticClass:"app_btn",attrs:{size:"small",type:"primary"},on:{click:function(n){return t.delApp(e._id)}}},[t._v("\n              删除此应用")]):n("el-button",{staticClass:"app_btn",attrs:{size:"small",type:"primary"},on:{click:function(n){return t.submitForm(e)}}},[t._v("保存应用\n            ")])],1)],2)],1)})),0)]):t._e()])},Ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head"},[n("h2",[t._v("设置微信服务大厅")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contentTitle"},[n("h3",[t._v("设置轮播图")])])}];function jt(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function St(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){jt(r,i,a,s,o,"next",t)}function o(t){jt(r,i,a,s,o,"throw",t)}s(void 0)}))}}var At={name:"server",data:function(){return{apps:null,curname:"",imageUrl:"",token:{},domain:"https://upload-z2.qiniup.com",qiniuaddr:"lp-cdn.js-shrfid.com",dialogImageUrl:"",dialogVisible:!1,carouselimg:[],fileList:[],limit:0,imgList:null,setshow:!1}},methods:{handleRemove:function(t,e){this.fileList=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0,this.fileList.push(t)},carousel:function(){var t=St((function*(t){var e=this,n={headers:{"Content-Type":"multipart/form-data"}};t.file.type;var i="rfid-lp-"+t.file.name,a=yield this.$store.dispatch("uploadToken"),r=new FormData;r.append("file",t.file),r.append("token",a.data),r.append("key",i),this.$http.post(this.domain,r,n).then(function(){var t=St((function*(t){console.log("上传成功"),e.limit++;var n="http://"+e.qiniuaddr+"/"+t.data.key;e.dialogImageUrl=n;var i={imgurl:n};yield e.$store.dispatch("setCarousel",i)}));return function(e){return t.apply(this,arguments)}}())}));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload:function(){console.log("beforeUpload")},getIndex:function(t){this.curname=t},delApp:function(){var t=St((function*(t){var e=yield this.$store.dispatch("delApp",{id:t});console.log(e),"OK"===e.statusText&&this.getApps()}));function e(e){return t.apply(this,arguments)}return e}(),submitForm:function(){var t=St((function*(t){var e=t.url||t.to;if(!t.name||!t.icon||!e)return this.$message("信息不完整");var n=yield this.$store.dispatch("setServer",t);n&&this.getApps()}));function e(e){return t.apply(this,arguments)}return e}(),getApps:function(){var t=St((function*(){var t=yield this.$store.dispatch("getApps"),e=t.data,n=[],i={name:"",icon:"",url:"",_id:"",to:""};if(0!=e.length){for(var a=0;a<e.length;a++){var r=e[a],s=r.name,o=r.icon,l=r.url,u=r._id,c=r.to;n[n.length]={name:s,icon:o,url:l,_id:u,to:c}}n.push(i),this.apps=n}else n.push(i),this.apps=n;return n}));function e(){return t.apply(this,arguments)}return e}(),upqiniu:function(){var t=St((function*(t){var e=this,n={headers:{"Content-Type":"multipart/form-data"}};t.file.type;var i="rfid-lp-"+t.file.name,a=yield this.$store.dispatch("uploadToken"),r=new FormData;r.append("file",t.file),r.append("token",a.data),r.append("key",i),this.$http.post(this.domain,r,n).then((function(t){var n="http://"+e.qiniuaddr+"/"+t.data.key;e.apps.forEach((function(t){t.name==e.curname&&(t.icon=n)}))}))}));function e(e){return t.apply(this,arguments)}return e}(),getCarousel:function(){var t=St((function*(){console.log("获取轮播图");for(var t=yield this.$store.dispatch("getCarousel"),e=[],n=0;n<t.data.length;n++){var i=t.data[n].imgurl;e.push({imgurl:i})}this.imgList=e,console.log(e)}));function e(){return t.apply(this,arguments)}return e}(),updateCar:function(){var t=St((function*(){this.setshow=!0;yield this.$store.dispatch("delCarousel",{})}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){},created:function(){this.getApps(),this.getCarousel()}},$t=At,Mt=(n("1875"),Object(l["a"])($t,kt,Ot,!1,null,"34bbae40",null)),Ft=Mt.exports,Lt=Ft,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("div",{staticClass:"title"},[t._v("评论留言")]),n("div",{staticClass:"content"},t._l(t.comments,(function(e,i){return n("div",{staticClass:"item"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:e.up_author.avatar,alt:"头像"}}),n("div",{staticClass:"nickname"},[t._v(t._s(e.up_author.nickname))])]),n("div",{staticClass:"right"},[n("div",{staticClass:"text"},[t._v(t._s(e.content))]),n("div",{staticClass:"time"},[t._v(t._s(e.format_time))])])])})),0)])},It=[];function Et(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function Tt(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){Et(r,i,a,s,o,"next",t)}function o(t){Et(r,i,a,s,o,"throw",t)}s(void 0)}))}}function Dt(t,e){var n,i={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var a in i)n=new RegExp("("+a+")").exec(t),n&&(t=t.replace(n[1],1==n[1].length?i[a]:i[a].padStart(n[1].length,"0")));return t}var Bt={data:function(){return{comments:null}},methods:{getAllComment:function(){var t=Tt((function*(){var t=yield this.$store.dispatch("allComment");this.comments=t.data,console.log(t),this.comments.forEach((function(t){t.meta.createdAt=new Date(t.meta.createdAt),t["format_time"]=Dt("YYYY-mm-dd HH:MM",t.meta.createdAt)}))}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getAllComment()}},Rt=Bt,Ut=(n("d043"),Object(l["a"])(Rt,Pt,It,!1,null,"6f75a115",null)),qt=Ut.exports,Yt=qt,zt=[{path:"/table",component:N,children:[{path:"/table/SetAppid",component:ht},{path:"/table/fixed",component:xt},{path:"/table/setServer",component:Lt}]},{path:"/comment",component:Yt},{path:"/form",component:N,children:[{path:"/form/basic",component:Q},{path:"/form/signup",component:Q}]},{path:"/charts",component:N,children:[{path:"/charts/line",component:Q},{path:"/charts/histogram",component:Q},{path:"/charts/bar",component:Q}]},{path:"/profile",component:N,children:[{path:"/profile/success",component:Q},{path:"/profile/fail",component:Q}]},{path:"/result",component:N,children:[{path:"/result/success",component:Q},{path:"/result/fail",component:Q}]},{path:"/",component:N,children:[{path:"/dashboard/analysis",component:at},{path:"/dashboard/monitor",component:Q},{path:"/dashboard/workplace",component:Q}]},{path:"/SetAppid",component:ht},{path:"*",component:Q}],Ht=zt;i["default"].use(f["a"]);var Kt=new f["a"]({routes:Ht}),Nt=n("2f62"),Vt=n("be4a"),Wt=n.n(Vt),Jt=new Wt.a;Jt.config.timeout=3e4,Jt.config.baseURL="/api",Jt.interceptors.request.use((function(t){return t}));var Xt=Jt;function Gt(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function Qt(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){Gt(r,i,a,s,o,"next",t)}function o(t){Gt(r,i,a,s,o,"throw",t)}s(void 0)}))}}function Zt(t){return te.apply(this,arguments)}function te(){return te=Qt((function*(t){var e=yield Xt.get("/test",{param:t});return e})),te.apply(this,arguments)}function ee(t){return ne.apply(this,arguments)}function ne(){return ne=Qt((function*(t){var e=yield Xt.post("/setConfig",t);return e})),ne.apply(this,arguments)}function ie(){return ae.apply(this,arguments)}function ae(){return ae=Qt((function*(){var t=yield Xt.get("/fetchConfig");return t})),ae.apply(this,arguments)}function re(){return se.apply(this,arguments)}function se(){return se=Qt((function*(){var t=yield Xt.get("/menulist");return t})),se.apply(this,arguments)}function oe(){return le.apply(this,arguments)}function le(){return le=Qt((function*(){var t=yield Xt.get("/batchMaterial");return t})),le.apply(this,arguments)}function ue(t){return ce.apply(this,arguments)}function ce(){return ce=Qt((function*(t){var e=yield Xt.post("/updateMenu",t);return e})),ce.apply(this,arguments)}function pe(t){return fe.apply(this,arguments)}function fe(){return fe=Qt((function*(t){var e=yield Xt.post("/setServer",t);return e})),fe.apply(this,arguments)}function de(){return he.apply(this,arguments)}function he(){return he=Qt((function*(){var t=yield Xt.get("/getApps");return t})),he.apply(this,arguments)}function me(t){return ve.apply(this,arguments)}function ve(){return ve=Qt((function*(t){var e=yield Xt.get("/delApp",t);return e})),ve.apply(this,arguments)}function be(t){return ge.apply(this,arguments)}function ge(){return ge=Qt((function*(t){var e=yield Xt.get("/uploadToken");return e})),ge.apply(this,arguments)}function ye(t){return _e.apply(this,arguments)}function _e(){return _e=Qt((function*(t){var e=yield Xt.post("/setCarousel",t);return e})),_e.apply(this,arguments)}function Ce(t){return we.apply(this,arguments)}function we(){return we=Qt((function*(t){var e=yield Xt.get("/delCarousel",t);return e})),we.apply(this,arguments)}function xe(){return ke.apply(this,arguments)}function ke(){return ke=Qt((function*(){var t=yield Xt.get("/getCarousel");return t})),ke.apply(this,arguments)}function Oe(t){return je.apply(this,arguments)}function je(){return je=Qt((function*(t){var e=yield Xt.get("/systemInfo",t);return e})),je.apply(this,arguments)}function Se(){return Ae.apply(this,arguments)}function Ae(){return Ae=Qt((function*(){var t=yield Xt.get("/allComment");return t})),Ae.apply(this,arguments)}var $e={test:Zt,setConfig:ee,fetchConfig:ie,getMenu:re,getMedia:oe,updateMenu:ue,setServer:pe,getApps:de,delApp:me,uploadToken:be,setCarousel:ye,delCarousel:Ce,getCarousel:xe,systemInfo:Oe,allComment:Se};function Me(t){return Pe(t)||Le(t)||Fe()}function Fe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Le(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Pe(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ee=function t(){Ie(this,t),Object.assign.apply(Object,[this].concat(Me(Array.from(arguments))))},Te=new Ee($e);function De(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(i,a)}function Be(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){De(r,i,a,s,o,"next",t)}function o(t){De(r,i,a,s,o,"throw",t)}s(void 0)}))}}var Re={test:function(){var t=Be((function*(){var t=yield Te.test();return t}));function e(){return t.apply(this,arguments)}return e}(),setConfig:function(){var t=Be((function*(t,e){console.log("存储/修改 配置信息"),console.log(e);var n=yield Te.setConfig(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),fetchConfig:function(){var t=Be((function*(){var t=yield Te.fetchConfig();return t}));function e(){return t.apply(this,arguments)}return e}(),getMenu:function(){var t=Be((function*(){var t=yield Te.getMenu();return t}));function e(){return t.apply(this,arguments)}return e}(),getMedia:function(){var t=Be((function*(){var t=yield Te.getMedia();return t}));function e(){return t.apply(this,arguments)}return e}(),updateMenu:function(){var t=Be((function*(t,e){var n=yield Te.updateMenu(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),setServer:function(){var t=Be((function*(t,e){var n=yield Te.setServer(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),getApps:function(){var t=Be((function*(){var t=yield Te.getApps();return t}));function e(){return t.apply(this,arguments)}return e}(),delApp:function(){var t=Be((function*(t,e){var n=yield Te.delApp(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),uploadToken:function(){var t=Be((function*(){var t=yield Te.uploadToken();return t}));function e(){return t.apply(this,arguments)}return e}(),setCarousel:function(){var t=Be((function*(t,e){var n=yield Te.setCarousel(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),delCarousel:function(){var t=Be((function*(t,e){var n=yield Te.delCarousel(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),getCarousel:function(){var t=Be((function*(){var t=yield Te.getCarousel();return t}));function e(){return t.apply(this,arguments)}return e}(),systemInfo:function(){var t=Be((function*(t,e){var n=yield Te.systemInfo(e);return n}));function e(e,n){return t.apply(this,arguments)}return e}(),allComment:function(){var t=Be((function*(){var t=yield Te.allComment();return t}));function e(){return t.apply(this,arguments)}return e}()},Ue=Re;i["default"].use(Nt["a"]);var qe=new Nt["a"].Store({actions:Ue}),Ye=qe,ze=n("bc3a"),He=n.n(ze);i["default"].prototype.$http=He.a,i["default"].use(r.a),i["default"].config.productionTip=!1,new i["default"]({router:Kt,store:Ye,render:function(t){return t(p)}}).$mount("#app")},"64a9":function(t,e,n){},"71f2":function(t,e,n){"use strict";var i=n("166e"),a=n.n(i);a.a},"725d":function(t,e,n){},"8e19":function(t,e,n){"use strict";var i=n("725d"),a=n.n(i);a.a},ac0e:function(t,e,n){},b20f:function(t,e,n){},b2d1:function(t,e,n){"use strict";var i=n("cbd4"),a=n.n(i);a.a},c4a0:function(t,e,n){"use strict";var i=n("1598"),a=n.n(i);a.a},cbd4:function(t,e,n){},d043:function(t,e,n){"use strict";var i=n("f25d"),a=n.n(i);a.a},d66f:function(t,e,n){},e939:function(t,e,n){"use strict";var i=n("4b6c"),a=n.n(i);a.a},f25d:function(t,e,n){}});
//# sourceMappingURL=app.e76f1410.js.map